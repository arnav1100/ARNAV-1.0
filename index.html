<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Predictor 2.0</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #111; color: #fff; }
    .card { background: #1c1c1c; padding: 20px; border-radius: 10px; margin-bottom: 20px; box-shadow: 0 0 10px #000; }
    input { padding: 10px; font-size: 16px; width: 100%; margin-bottom: 10px; border-radius: 5px; border: none; }
    button { padding: 10px 20px; font-size: 16px; margin: 5px; border: none; border-radius: 5px; cursor: pointer; }
    .btn-win { background: #4caf50; color: #fff; }
    .btn-loss { background: #f44336; color: #fff; }
    .btn-predict { background: #2196f3; color: #fff; }
    .green { color: #4caf50; }
    .red { color: #f44336; }
    .history li { margin: 5px 0; }
  </style>
</head>
<body>

  <div class="card">
    <h1>üîÆ Predictor 2.0</h1>
    <input type="text" id="periodInput" placeholder="Enter Full Period Number" />
    <button class="btn-predict" onclick="predict()">Predict</button>
    <div id="predictionResult" style="font-size: 20px; margin-top: 10px;"></div>

    <div id="resultButtons" style="display:none; margin-top:10px;">
      <button class="btn-win" onclick="submitResult('WIN')">‚úÖ WIN</button>
      <button class="btn-loss" onclick="submitResult('LOSS')">‚ùå LOSS</button>
    </div>

    <div id="resultMessage" style="margin-top: 10px;"></div>
  </div>

  <div class="card">
    <h3>üìú Prediction History (Last 20)</h3>
    <ul id="historyList" class="history"></ul>
  </div>

  <script>
    let history = [];
    let currentPrediction = '';
    let lossCount = 0;

    function predict() {
      const input = document.getElementById('periodInput').value;
      if (!input || input.length < 3) {
        alert('Enter a valid full period number!');
        return;
      }
      const lastDigit = parseInt(input.slice(-1));
      currentPrediction = lastDigit % 2 === 0 ? 'SMALL' : 'BIG';
      document.getElementById('predictionResult').innerHTML = `Prediction: <b>${currentPrediction}</b>`;
      document.getElementById('resultButtons').style.display = 'block';
      document.getElementById('resultMessage').innerText = '';
    }

    function submitResult(result) {
      const period = document.getElementById('periodInput').value;
      const entry = {
        period,
        prediction: currentPrediction,
        result
      };
      history.unshift(entry);
      if (history.length > 20) history.pop();

      document.getElementById('historyList').innerHTML = history.map(item => `
        <li>
          Period: ${item.period} ‚Üí Prediction: <b>${item.prediction}</b> ‚Üí
          Result: <b class="${item.result === 'WIN' ? 'green' : 'red'}">${item.result}</b>
        </li>
      `).join('');

      lossCount = result === 'LOSS' ? lossCount + 1 : 0;
      if (lossCount >= 3) {
        alert('‚ö†Ô∏è 3 Consecutive Losses! Consider reviewing your strategy.');
      }

      document.getElementById('resultMessage').innerText = `Result Recorded: ${result}`;
      document.getElementById('resultButtons').style.display = 'none';
      document.getElementById('predictionResult').innerText = '';
    }
  </script>

</body>
</html>
